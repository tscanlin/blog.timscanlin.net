<!doctype html><html lang="en"><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="stylesheet" href="/phenomic.browser.2d7fb483b27709f964f7.css" /><meta data-react-helmet="true" name="generator" content="Phenomic 0.17.12"/><meta data-react-helmet="true" property="og:site_name" content="blog-timscanlin-net"/><meta data-react-helmet="true" name="twitter:site" content="@tim_scanlin"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Login Bash Script"/><meta data-react-helmet="true" property="og:url" content="http://blog.timscanlin.net/posts/2015/login-bash-script/"/><meta data-react-helmet="true" property="og:description" content="JavaScript is my happy place. It&#x27;s the language I&#x27;m most comfortable in and I really enjoy using it both in the browser and with node.js…"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Login Bash Script"/><meta data-react-helmet="true" name="twitter:creator" content="@tim_scanlin"/><meta data-react-helmet="true" name="twitter:description" content="JavaScript is my happy place. It&#x27;s the language I&#x27;m most comfortable in and I really enjoy using it both in the browser and with node.js…"/><meta data-react-helmet="true" name="description" content="JavaScript is my happy place. It&#x27;s the language I&#x27;m most comfortable in and I really enjoy using it both in the browser and with node.js…"/><title data-react-helmet="true">Login Bash Script</title></head><body><div id="phenomic"><div class="_2Mf6m" data-reactroot="" data-reactid="1" data-react-checksum="-1698060145"><div hidden="" data-reactid="2"><!-- react-empty: 3 --><!-- react-empty: 4 --><style data-reactid="5">@-ms-viewport { width: device-width; }</style></div><header data-reactid="6"><nav style="background-color:rgba(250,250,255,0);" class="mw8 center tc pv3" data-reactid="7"><div class="dib w-100 pa2" data-reactid="8"><a class="f2 no-underline black" href="/" data-reactid="9">Tim Scanlin</a></div><div class="dib w-100" data-reactid="10"><a class="pa1 mh1" href="/" data-reactid="11">Blog</a><a class="pa1 mh1" href="http://timscanlin.net" data-reactid="12">About</a><a class="pa1 mh1" href="https://github.com/tscanlin/" data-reactid="13">Github</a></div></nav></header><div class="_116Tm" data-reactid="14"><div class="mw6 center" data-reactid="15"><!-- react-empty: 16 --><h1 data-reactid="17">Login Bash Script</h1><header data-reactid="18"><time data-reactid="19">Sep 30 2015</time></header><div class="phenomic-BodyContainer" data-reactid="20"><p>JavaScript is my happy place. It's the language I'm most comfortable in and I really enjoy using it both in the browser and with node.js even though it has a number of <a href="https://www.pubnub.com/blog/kyle-simpson-asks-javascript-wtf/">weird quirks</a>.</p>
<p>That being said, I do enjoy writing code in other languages as well. My second favorite is probably Python due to its clean and simple syntax. However, I find myself using bash scripts more and more these days due to its versatility and ubiquity. Its great for things like syncing files between directories (rsync ftw!) and performing database maintenance tasks. I'll write articles on those scripts soon, but first let's start simple.</p>
<p>Today I'm going to walk through a script I recently made to simplify the process of logging into remote servers using ssh. This is super simple and doesn't really do anything fancy. But I think it's a worthwhile starting point if you haven't worked with bash scripting too much. Let me step through it and explain it step by step.</p>
<p>First you will notice the grayed out lines all start with the '#' sign. This is how comments are written in bash scripts as opposed to JavaScript where '//' are used at the beginning of a line to indicate that the line is commented out. Next, you will see that there is a function called "webhost", this function is declared in much the same way that it would be declared in JavaScript. Inside the function it executes the command "ssh tim@server.com -p 2022", this basically says "ssh into the server 'server.com' as the user 'tim' on port '2022'".</p>
<pre><code class="hljs language-sh"><span class="hljs-meta">#!/bin/sh</span>
<span class="hljs-comment"># Login</span>
<span class="hljs-comment"># version: 1.0</span>
<span class="hljs-comment"># date: 2015-09-29</span>
<span class="hljs-comment"># author: Tim Scanlin</span>

<span class="hljs-comment"># CONNECTIONS</span>
<span class="hljs-keyword">function</span> <span class="hljs-function"><span class="hljs-title">webhost</span></span>() {
	ssh tim@server.com -p 2022
}</code></pre>
<p>Hope you are with me so far. Next is an example of a multi-line string. This makes use of the <a href="https://en.wikipedia.org/wiki/Here_document">Heredoc</a> syntax in bash. This syntax is available in many other programming languages as well and isn't specific to bash. Its most useful for storing longer form text and banners like this.</p>
<pre><code class="hljs language-sh"><span class="hljs-comment"># BANNER</span>
BANNER=$( cat &#x3C;&#x3C; EOF

==================================================
=                LOGIN UTILITY v1                =
==================================================

Host: <span class="hljs-variable">$HOSTNAME</span>

EOF
)</code></pre>
<p>Finally, there is the main logic of the script. First we echo the $BANNER variable to display it in the console and identify the script, then we check for any passed in parameters. If there aren't any parameters or if the parameter is "-h" then we show how to use the script and some possible input values. Then we prompt the user for some input and read it into the $COMMAND variable. Finally we run the function matching that $COMMAND.</p>
<pre><code class="hljs language-sh"><span class="hljs-comment"># EXECUTION STARTS HERE</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$BANNER</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$#</span> <span class="hljs-_">-eq</span> 0 ] || [ <span class="hljs-variable">$1</span> == <span class="hljs-string">"-h"</span> ] <span class="hljs-comment">#check for no params or -h</span>
<span class="hljs-keyword">then</span>
	<span class="hljs-built_in">echo</span> <span class="hljs-string">"Usage:"</span>
	<span class="hljs-built_in">echo</span> <span class="hljs-string">"&#x3C;server alias>"</span>
	<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
	<span class="hljs-built_in">echo</span> <span class="hljs-string">"Options: webhost"</span>
	<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

	<span class="hljs-built_in">echo</span> <span class="hljs-string">"> What server would you like to login to?"</span>
	<span class="hljs-built_in">read</span> COMMAND
<span class="hljs-keyword">else</span>
	COMMAND=<span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-variable">$COMMAND</span>

<span class="hljs-built_in">exit</span>;</code></pre>
<p>The benefit of having this conditional is that you can run the script from the terminal by typing "login.sh" and it will tell you how to use the script and some possible input values allowing you to continue on from there, or if you already know the available options then you can just run "login.sh webhost" and it will go straight to executing the "webhost" function.</p>
<p>This is very basic but could be expanded upon to add multiple functions, one for each server you login in to, as well as a starting point for many other scripts with a variety of functionality. Hope you enjoyed this short tutorial!</p>
<p>Full script below:</p>
<pre><code class="hljs language-sh"><span class="hljs-meta">#!/bin/sh</span>
<span class="hljs-comment"># Login</span>
<span class="hljs-comment"># version: 1.0</span>
<span class="hljs-comment"># date: 2015-09-29</span>
<span class="hljs-comment"># author: Tim Scanlin</span>

<span class="hljs-comment"># CONNECTIONS</span>
<span class="hljs-keyword">function</span> <span class="hljs-function"><span class="hljs-title">webhost</span></span>() {
	ssh tim@server.com -p 2022
}

<span class="hljs-comment"># BANNER</span>
BANNER=$( cat &#x3C;&#x3C; EOF

==================================================
=                LOGIN UTILITY v1                =
==================================================

Host: <span class="hljs-variable">$HOSTNAME</span>

EOF
)

<span class="hljs-comment"># EXECUTION STARTS HERE</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$BANNER</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$#</span> <span class="hljs-_">-eq</span> 0 ] || [ <span class="hljs-variable">$1</span> == <span class="hljs-string">"-h"</span> ] <span class="hljs-comment">#check for no params or -h</span>
<span class="hljs-keyword">then</span>
	<span class="hljs-built_in">echo</span> <span class="hljs-string">"Usage:"</span>
	<span class="hljs-built_in">echo</span> <span class="hljs-string">"&#x3C;server alias>"</span>
	<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
	<span class="hljs-built_in">echo</span> <span class="hljs-string">"Options: webhost"</span>
	<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

	<span class="hljs-built_in">echo</span> <span class="hljs-string">"> What server would you like to login to?"</span>
	<span class="hljs-built_in">read</span> COMMAND
<span class="hljs-keyword">else</span>
	COMMAND=<span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-variable">$COMMAND</span>

<span class="hljs-built_in">exit</span>;</code></pre>
</div></div></div><footer class="center w5 f6 tc bt b--light-gray mt4" data-reactid="21"><p data-reactid="22"><a href="/feed.xml" data-reactid="23">feed</a></p><p data-reactid="24"><span data-reactid="25">© </span><span data-reactid="26"><!-- react-text: 27 -->2017<!-- /react-text --><!-- react-text: 28 --> <!-- /react-text --></span><span data-reactid="29">Tim Scanlin</span></p></footer></div></div><script>window.__COLLECTION__ = [{"layout":"PageError","route":"404.html","description":"Content here not used, see src/layouts/PageError","__filename":"404.md","__url":"/404.html","__resourceUrl":"/404.html","__dataUrl":"/404.html.c51e41dcf93740dd221b7da7702623a9.json"},{"title":"Tim Scanlin's Blog","layout":"Homepage","hideTitle":true,"description":"","__filename":"index.md","__url":"/","__resourceUrl":"/index.html","__dataUrl":"/index.html.6c43ca9d944e05faefa5375cacab486f.json"},{"layout":"PageLoading","description":"Content here not used, see src/layouts/PageLoading. This page is a demo for loading state. You can safely delete if you want.","__filename":"loading.md","__url":"/loading/","__resourceUrl":"/loading/index.html","__dataUrl":"/loading/index.html.195d4f0e5d27a11e56d8db059f891663.json"},{"title":"Simple d3.js Visualization Tutorial","layout":"Post","date":"2014-08-30T00:00:00.000Z","draft":false,"summary":"d3.js is an awesome JavaScript library that's perfect for visualizing data. However, it has a reputation for being a bit tricky to learn; but once you understand the basics, you can actually make some really cool stuff.","description":"d3.js is an awesome JavaScript library that's perfect for visualizing data. However, it has a reputation for being a bit tricky to learn;…","__filename":"posts/2014/Simple-d3-js-visualization.md","__url":"/posts/2014/Simple-d3-js-visualization/","__resourceUrl":"/posts/2014/Simple-d3-js-visualization/index.html","__dataUrl":"/posts/2014/Simple-d3-js-visualization/index.html.38597d37850963f07f2d05e0157c31b0.json"},{"title":"5 Tips for New Web Developers","layout":"Post","date":"2014-07-18T00:00:00.000Z","paths":[{"path":"/blog/2014/5-Tips-for-New-Web-Developers","buildHtml":true},{"path":"/2014/07/18/5-Tips-for-New-Web-Developers"}],"draft":false,"tags":"example","summary":"I have dabbled in HTML, JavaScript, and programming in general for a little over a decade now. In the beginning it was very overwhelming, it seemed like there was so much to learn that it would be an impossible task.","description":"However, I enjoy learning, and bit by bit, I started reading and going through tutorials to understand the basics of coding. This got me…","__filename":"posts/2014/Tips-for-New-Web-Developers.md","__url":"/posts/2014/Tips-for-New-Web-Developers/","__resourceUrl":"/posts/2014/Tips-for-New-Web-Developers/index.html","__dataUrl":"/posts/2014/Tips-for-New-Web-Developers/index.html.1afb083d694e2180815c3286890eab19.json"},{"title":"Login Bash Script","layout":"Post","date":"2015-09-30T00:00:00.000Z","paths":[{"path":"/blog/2015/login-bash-script","buildHtml":true},{"path":"/2015/09/30/login-bash-script","buildHtml":true}],"draft":false,"summary":"JavaScript is my happy place. It's the language I'm most comfortable in and I really enjoy using it both in the browser and with node.js even though it has a number of <a href=\"https://www.pubnub.com/blog/kyle-simpson-asks-javascript-wtf/\">weird quirks</a>.","description":"JavaScript is my happy place. It's the language I'm most comfortable in and I really enjoy using it both in the browser and with node.js…","__filename":"posts/2015/login-bash-script.md","__url":"/posts/2015/login-bash-script/","__resourceUrl":"/posts/2015/login-bash-script/index.html","__dataUrl":"/posts/2015/login-bash-script/index.html.dcf63cffd6a67febc3b339296777d96c.json"},{"title":"Automated Deploys With Travis","layout":"Post","date":"2016-10-28T00:00:00.000Z","description":"Using Travis CI is a great way to automate repetitive tasks like building and testing your projects. But recently I've been using it to…","__filename":"posts/2016/automated-deploys-with-travis.md","__url":"/posts/2016/automated-deploys-with-travis/","__resourceUrl":"/posts/2016/automated-deploys-with-travis/index.html","__dataUrl":"/posts/2016/automated-deploys-with-travis/index.html.789bb3ec8691a1a3ba3bc05b6b8f1240.json"},{"title":"Open Source Projects in 2016","layout":"Post","date":"2016-12-27T00:00:00.000Z","description":"2016 has been full of many ups and downs, but at least I was able to launch a couple of small open source projects this year. The projects…","__filename":"posts/2016/open-source-projects-in-2016.md","__url":"/posts/2016/open-source-projects-in-2016/","__resourceUrl":"/posts/2016/open-source-projects-in-2016/index.html","__dataUrl":"/posts/2016/open-source-projects-in-2016/index.html.c915b9f1fb6fc856dc2d174a3445d5f0.json"}];window.__INITIAL_STATE__ = {"pages":{"/posts/2015/login-bash-script/":{"head":{"title":"Login Bash Script","layout":"Post","date":"2015-09-30T00:00:00.000Z","paths":[{"path":"/blog/2015/login-bash-script","buildHtml":true},{"path":"/2015/09/30/login-bash-script","buildHtml":true}],"draft":false,"summary":"JavaScript is my happy place. It's the language I'm most comfortable in and I really enjoy using it both in the browser and with node.js even though it has a number of <a href=\"https://www.pubnub.com/blog/kyle-simpson-asks-javascript-wtf/\">weird quirks</a>.","description":"JavaScript is my happy place. It's the language I'm most comfortable in and I really enjoy using it both in the browser and with node.js…"},"body":"<p>JavaScript is my happy place. It's the language I'm most comfortable in and I really enjoy using it both in the browser and with node.js even though it has a number of <a href=\"https://www.pubnub.com/blog/kyle-simpson-asks-javascript-wtf/\">weird quirks</a>.</p>\n<p>That being said, I do enjoy writing code in other languages as well. My second favorite is probably Python due to its clean and simple syntax. However, I find myself using bash scripts more and more these days due to its versatility and ubiquity. Its great for things like syncing files between directories (rsync ftw!) and performing database maintenance tasks. I'll write articles on those scripts soon, but first let's start simple.</p>\n<p>Today I'm going to walk through a script I recently made to simplify the process of logging into remote servers using ssh. This is super simple and doesn't really do anything fancy. But I think it's a worthwhile starting point if you haven't worked with bash scripting too much. Let me step through it and explain it step by step.</p>\n<p>First you will notice the grayed out lines all start with the '#' sign. This is how comments are written in bash scripts as opposed to JavaScript where '//' are used at the beginning of a line to indicate that the line is commented out. Next, you will see that there is a function called \"webhost\", this function is declared in much the same way that it would be declared in JavaScript. Inside the function it executes the command \"ssh tim@server.com -p 2022\", this basically says \"ssh into the server 'server.com' as the user 'tim' on port '2022'\".</p>\n<pre><code class=\"hljs language-sh\"><span class=\"hljs-meta\">#!/bin/sh</span>\n<span class=\"hljs-comment\"># Login</span>\n<span class=\"hljs-comment\"># version: 1.0</span>\n<span class=\"hljs-comment\"># date: 2015-09-29</span>\n<span class=\"hljs-comment\"># author: Tim Scanlin</span>\n\n<span class=\"hljs-comment\"># CONNECTIONS</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-function\"><span class=\"hljs-title\">webhost</span></span>() {\n\tssh tim@server.com -p 2022\n}</code></pre>\n<p>Hope you are with me so far. Next is an example of a multi-line string. This makes use of the <a href=\"https://en.wikipedia.org/wiki/Here_document\">Heredoc</a> syntax in bash. This syntax is available in many other programming languages as well and isn't specific to bash. Its most useful for storing longer form text and banners like this.</p>\n<pre><code class=\"hljs language-sh\"><span class=\"hljs-comment\"># BANNER</span>\nBANNER=$( cat &#x3C;&#x3C; EOF\n\n==================================================\n=                LOGIN UTILITY v1                =\n==================================================\n\nHost: <span class=\"hljs-variable\">$HOSTNAME</span>\n\nEOF\n)</code></pre>\n<p>Finally, there is the main logic of the script. First we echo the $BANNER variable to display it in the console and identify the script, then we check for any passed in parameters. If there aren't any parameters or if the parameter is \"-h\" then we show how to use the script and some possible input values. Then we prompt the user for some input and read it into the $COMMAND variable. Finally we run the function matching that $COMMAND.</p>\n<pre><code class=\"hljs language-sh\"><span class=\"hljs-comment\"># EXECUTION STARTS HERE</span>\n<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$BANNER</span>\"</span>\n<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"\"</span>\n\n<span class=\"hljs-keyword\">if</span> [ <span class=\"hljs-variable\">$#</span> <span class=\"hljs-_\">-eq</span> 0 ] || [ <span class=\"hljs-variable\">$1</span> == <span class=\"hljs-string\">\"-h\"</span> ] <span class=\"hljs-comment\">#check for no params or -h</span>\n<span class=\"hljs-keyword\">then</span>\n\t<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"Usage:\"</span>\n\t<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"&#x3C;server alias>\"</span>\n\t<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"\"</span>\n\t<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"Options: webhost\"</span>\n\t<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"\"</span>\n\n\t<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"> What server would you like to login to?\"</span>\n\t<span class=\"hljs-built_in\">read</span> COMMAND\n<span class=\"hljs-keyword\">else</span>\n\tCOMMAND=<span class=\"hljs-string\">\"<span class=\"hljs-variable\">$1</span>\"</span>\n<span class=\"hljs-keyword\">fi</span>\n\n<span class=\"hljs-variable\">$COMMAND</span>\n\n<span class=\"hljs-built_in\">exit</span>;</code></pre>\n<p>The benefit of having this conditional is that you can run the script from the terminal by typing \"login.sh\" and it will tell you how to use the script and some possible input values allowing you to continue on from there, or if you already know the available options then you can just run \"login.sh webhost\" and it will go straight to executing the \"webhost\" function.</p>\n<p>This is very basic but could be expanded upon to add multiple functions, one for each server you login in to, as well as a starting point for many other scripts with a variety of functionality. Hope you enjoyed this short tutorial!</p>\n<p>Full script below:</p>\n<pre><code class=\"hljs language-sh\"><span class=\"hljs-meta\">#!/bin/sh</span>\n<span class=\"hljs-comment\"># Login</span>\n<span class=\"hljs-comment\"># version: 1.0</span>\n<span class=\"hljs-comment\"># date: 2015-09-29</span>\n<span class=\"hljs-comment\"># author: Tim Scanlin</span>\n\n<span class=\"hljs-comment\"># CONNECTIONS</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-function\"><span class=\"hljs-title\">webhost</span></span>() {\n\tssh tim@server.com -p 2022\n}\n\n<span class=\"hljs-comment\"># BANNER</span>\nBANNER=$( cat &#x3C;&#x3C; EOF\n\n==================================================\n=                LOGIN UTILITY v1                =\n==================================================\n\nHost: <span class=\"hljs-variable\">$HOSTNAME</span>\n\nEOF\n)\n\n<span class=\"hljs-comment\"># EXECUTION STARTS HERE</span>\n<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$BANNER</span>\"</span>\n<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"\"</span>\n\n<span class=\"hljs-keyword\">if</span> [ <span class=\"hljs-variable\">$#</span> <span class=\"hljs-_\">-eq</span> 0 ] || [ <span class=\"hljs-variable\">$1</span> == <span class=\"hljs-string\">\"-h\"</span> ] <span class=\"hljs-comment\">#check for no params or -h</span>\n<span class=\"hljs-keyword\">then</span>\n\t<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"Usage:\"</span>\n\t<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"&#x3C;server alias>\"</span>\n\t<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"\"</span>\n\t<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"Options: webhost\"</span>\n\t<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"\"</span>\n\n\t<span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"> What server would you like to login to?\"</span>\n\t<span class=\"hljs-built_in\">read</span> COMMAND\n<span class=\"hljs-keyword\">else</span>\n\tCOMMAND=<span class=\"hljs-string\">\"<span class=\"hljs-variable\">$1</span>\"</span>\n<span class=\"hljs-keyword\">fi</span>\n\n<span class=\"hljs-variable\">$COMMAND</span>\n\n<span class=\"hljs-built_in\">exit</span>;</code></pre>\n","__filename":"posts/2015/login-bash-script.md","__url":"/posts/2015/login-bash-script/","__resourceUrl":"/posts/2015/login-bash-script/index.html","__dataUrl":"/posts/2015/login-bash-script/index.html.dcf63cffd6a67febc3b339296777d96c.json","type":"Post"}}}</script><script data-react-helmet="true" src="https://cdn.polyfill.io/v2/polyfill.min.js"></script><script src="/phenomic.browser.2d7fb483b27709f964f7.js"></script></body></html>